<div class="container">
  <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
    <div class="ligne1">
      <input id="nameProject" formControlName="name" type="text" class="form-control" placeholder="Nom du Projet" />
      <div *ngIf="myForm.get('name')?.invalid && myForm.get('name')?.touched" class="error">
        Le nom du projet est requis.
      </div>
      <div class="form-group">
        <label class="genre-label sr-only" for="genre">Genre</label>
        <div class="form-control-container">
          <select id="genre" (change)="addGenre($event)" class="form-control">
            <option value="" disabled selected>Choisissez un genre</option>
            <option *ngFor="let genre of genresList; trackBy: trackByFn" [value]="genre">
              {{ genre }}
            </option>
          </select>
          <div class="selected-genres">
            <span *ngFor="let genre of selectedGenres; trackBy: trackByFn">
              {{ genre }}
              <button type="button" (click)="removeGenre(genre)">x</button>
            </span>
          </div>
        </div>
        <div *ngIf="myForm.get('genres')?.invalid && myForm.get('genres')?.touched" class="error">
          Le genre est requis.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="sr-only" for="usedSkill">Compétence présente</label>
      <div class="form-control-container">
        <select id="usedSkill" (change)="addUsedSkill($event)" class="form-control">
          <option value="" disabled selected>
            Ajoutez une compétence que vous avez
            utilisée dans votre projet.
          </option>
          <option *ngFor="let skill of skillNamesList; trackBy: trackByFn" [value]="skill">
            {{ skill }}
          </option>
        </select>
        <div class="selected-skills">
          <span *ngFor="let skill of selectedUsedSkills; trackBy: trackByFn">
            {{ skill }}
            <button type="button" (click)="removeUsedSkill(skill)">x</button>
          </span>
        </div>
      </div>
      <div *ngIf="myForm.get('skillsPresent')?.invalid && myForm.get('skillsPresent')?.touched" class="error">
        La compétence est requise.
      </div>
    </div>

    <div class="form-group">
      <label class="sr-only" for="requestedSkill">Compétence manquante</label>
      <div class="form-control-container">
        <select id="requestedSkill" (change)="addRequestedSkill($event)" class="form-control">
          <option value="" disabled selected>
            Ajoutez une compétence dont vous avez besoin.
          </option>
          <option *ngFor="let skill of skillNamesList; trackBy: trackByFn" [value]="skill">
            {{ skill }}
          </option>
        </select>
        <div class="selected-skills">
          <span *ngFor="let skill of selectedRequestedSkills; trackBy: trackByFn">
            {{ skill }}
            <button type="button" (click)="removeRequestedSkill(skill)">x</button>
          </span>
        </div>
      </div>
      <div *ngIf="myForm.get('skillsMissing')?.invalid && myForm.get('skillsMissing')?.touched" class="error">
        La compétence est requise.
      </div>
    </div>

    <div class="form-group">
      <label class="sr-only" for="description">Description</label>
      <textarea id="description" formControlName="description" class="form-control" placeholder="Description"></textarea>
      <div *ngIf="myForm.get('description')?.invalid && myForm.get('description')?.touched" class="error">
        La description est requise.
      </div>
    </div>

    <div class="form-group">
      <label for="color">Couleur</label>
      <div class="color-picker">
        <div *ngFor="let color of ['red', 'blue', 'green', 'yellow']" class="carre" [class]="color" (click)="selectColor(color)"></div>
      </div>
    </div>

    <div class="form-group">
      <label class="sr-only" for="date">Date</label>
      <input id="date" formControlName="date" type="date" class="form-control" placeholder="Date" />
    </div>
a
    <div class="form-group">
      <label for="file">Ajouter des fichiers</label>
      <input id="file" type="file" (change)="handleFileChange($event)" multiple />
      <div class="selected-files">
        <span *ngFor="let file of selectedFiles; trackBy: trackByFn">
          {{ file.name }}
          <button type="button" (click)="removeFile(file)">x</button>
        </span>
      </div>
    </div>

    <button type="submit" [disabled]="myForm.invalid">Envoyer</button>
  </form>
</div>
